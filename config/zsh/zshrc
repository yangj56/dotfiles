export ZSH="$HOME/.oh-my-zsh"
ZSH_THEME="robbyrussell"
plugins=(git)

source "$ZSH/oh-my-zsh.sh"

# Resolve DOTFILES from this file's location (works when .zshrc is a symlink)
if [[ -L "$HOME/.zshrc" ]]; then
  export DOTFILES="$(dirname $(dirname $(dirname $(readlink "$HOME/.zshrc"))))"
else
  export DOTFILES="$HOME/dotfiles"
fi

if [[ -x /opt/homebrew/bin/brew ]]; then
  eval "$(/opt/homebrew/bin/brew shellenv)"
else
  eval "$(/usr/local/bin/brew shellenv)"
fi

source "$DOTFILES/config/zsh/exports.zsh"
source "$DOTFILES/config/zsh/aliases.zsh"
source "$DOTFILES/config/zsh/plugins.zsh"

[[ -f "$HOME/.zshrc.private" ]] && source "$HOME/.zshrc.private"

# opencode
export PATH=/Users/admin/.opencode/bin:$PATH

# .NET 8 (keg-only; path set so tools can find dotnet)
export DOTNET_ROOT="${HOMEBREW_PREFIX:-/opt/homebrew}/opt/dotnet@8/libexec"
export PATH="$DOTNET_ROOT:$PATH"
